<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Will you be my Valentine?</title>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <style>
    :root {
      --bg1: #ffd6e7;
      --bg2: #ffeef6;
      --card: #ffffffcc;
      --yes: #ff3b7a;
      --yesHover: #ff1f68;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100svh;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at top, var(--bg2), var(--bg1));
      font-family: system-ui, sans-serif;
      overflow: hidden;
      padding: 16px;
      position: relative;
    }

    /* FLOATING HEARTS BACKGROUND */
    .floating-hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .heart {
      position: absolute;
      font-size: 20px;
      opacity: 0;
      animation: float 8s infinite ease-in-out;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      90% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-20vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* SPARKLES */
    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #fff;
      border-radius: 50%;
      pointer-events: none;
      animation: sparkle 1.5s ease-out forwards;
    }

    @keyframes sparkle {
      0% {
        transform: scale(0) rotate(0deg);
        opacity: 1;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: scale(1.5) rotate(180deg);
        opacity: 0;
      }
    }

    /* FULL-SCREEN CONFETTI CANVAS */
    #confettiCanvas {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 9999;
    }

    .card {
      width: min(720px, 92vw);
      padding: 26px 22px;
      background: var(--card);
      backdrop-filter: blur(10px);
      border-radius: 22px;
      text-align: center;
      box-shadow: 0 18px 60px rgba(0,0,0,.15);
      position: relative;
      z-index: 10;
      animation: cardAppear 0.8s ease-out;
    }

    @keyframes cardAppear {
      from {
        transform: scale(0.8) translateY(30px);
        opacity: 0;
      }
      to {
        transform: scale(1) translateY(0);
        opacity: 1;
      }
    }

    .art {
      width: min(260px, 80vw);
      margin: 0 auto 10px;
      display: block;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.12));
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    /* PULSING HEART */
    #animatedHeart {
      animation: heartbeat 1.2s ease-in-out infinite;
      transform-origin: center;
    }

    @keyframes heartbeat {
      0%, 100% {
        transform: scale(1);
      }
      25% {
        transform: scale(1.15);
      }
      50% {
        transform: scale(1);
      }
      75% {
        transform: scale(1.08);
      }
    }

    h1 {
      font-size: clamp(26px, 4vw, 44px);
      margin: 12px 0 18px;
      background: linear-gradient(45deg, #ff3b7a, #ff1f68, #ff6b9d);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradient 3s ease infinite;
    }

    @keyframes gradient {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .button-zone {
      position: relative;
      width: min(520px, 92%);
      height: 150px;
      margin: 0 auto;
      touch-action: none;
    }

    button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 16px 24px;
      font-size: 18px;
      font-weight: 800;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.14);
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, background .12s ease;
    }

    #yesBtn {
      left: 18%;
      background: var(--yes);
      color: #fff;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 10px 24px rgba(255, 59, 122, 0.3);
      }
      50% {
        box-shadow: 0 10px 40px rgba(255, 59, 122, 0.6);
      }
    }

    #yesBtn:hover { 
      background: var(--yesHover);
      transform: translateY(-50%) scale(1.05);
    }

    #noBtn {
      left: 62%;
      background: #e5e7eb;
      color: #111827;
    }

    .hint {
      margin-top: 10px;
      font-size: 13px;
      opacity: .7;
      animation: fadeInOut 2s ease-in-out infinite;
    }

    @keyframes fadeInOut {
      0%, 100% {
        opacity: 0.5;
      }
      50% {
        opacity: 1;
      }
    }

    .result {
      display: none;
      margin-top: 18px;
      animation: pop .35s ease;
    }

    .result h2 {
      font-size: clamp(30px, 4.5vw, 46px);
      margin: 10px 0;
      animation: celebrate 0.6s ease-out;
    }

    @keyframes celebrate {
      0%, 100% {
        transform: rotate(0deg);
      }
      25% {
        transform: rotate(-10deg) scale(1.1);
      }
      75% {
        transform: rotate(10deg) scale(1.1);
      }
    }

    .romantic-message {
      font-size: 18px;
      color: #ff3b7a;
      margin: 15px 0;
      font-weight: 600;
      opacity: 0;
      animation: slideUp 0.8s ease-out 0.3s forwards;
    }

    @keyframes slideUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .fireworks {
      width: min(380px, 90vw);
      max-width: 100%;
      height: auto;
      margin: 20px auto 15px;
      display: block;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(255, 59, 122, 0.3);
      background: #f0f0f0;
      min-height: 200px;
      object-fit: cover;
    }

    /* LETTER BUTTON */
    .letter-btn {
      margin: 25px auto 10px;
      padding: 14px 32px;
      background: linear-gradient(135deg, #ff3b7a, #ff6b9d);
      color: white;
      border: none;
      border-radius: 999px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(255, 59, 122, 0.4);
      transition: all 0.3s ease;
      animation: slideUp 0.8s ease-out 0.6s backwards;
      display: block;
      position: relative;
    }

    .letter-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(255, 59, 122, 0.6);
    }

    .letter-btn:active {
      transform: translateY(-1px);
    }

    /* LETTER OVERLAY */
    .letter-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
      z-index: 10000;
      align-items: center;
      justify-content: center;
      padding: 20px;
      animation: fadeIn 0.4s ease-out;
    }

    .letter-overlay.active {
      display: flex;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* LETTER CONTAINER */
    .letter-container {
      position: relative;
      width: min(600px, 90vw);
      animation: letterOpen 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes letterOpen {
      0% {
        transform: scale(0.3) rotateX(-90deg);
        opacity: 0;
      }
      70% {
        transform: scale(1.05) rotateX(5deg);
      }
      100% {
        transform: scale(1) rotateX(0deg);
        opacity: 1;
      }
    }

    .letter {
      background: linear-gradient(to bottom, #fff9f0, #fff);
      padding: 40px 35px;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      border: 2px solid #ffd700;
      position: relative;
      max-height: 70vh;
      overflow-y: auto;
    }

    .letter::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #ff3b7a, #ffd700, #ff6b9d, #ff3b7a);
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
    }

    @keyframes shimmer {
      to {
        background-position: 200% 0;
      }
    }

    .letter-header {
      text-align: center;
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 2px dashed #ffd700;
    }

    .letter-header h2 {
      font-size: clamp(28px, 5vw, 36px);
      margin: 0 0 10px 0;
      background: linear-gradient(45deg, #ff3b7a, #ff6b9d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .letter-date {
      font-size: 14px;
      color: #888;
      font-style: italic;
    }

    .letter-content {
      font-size: 16px;
      line-height: 1.8;
      color: #333;
      text-align: left;
    }

    .letter-content p {
      margin: 15px 0;
    }

    /* PHOTO GALLERY IN LETTER */
    .photo-gallery {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 25px 0;
      padding: 15px;
      background: rgba(255, 182, 193, 0.1);
      border-radius: 12px;
    }

    .photo-gallery img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease;
    }

    .photo-gallery img:hover {
      transform: scale(1.05);
    }

    @media (max-width: 600px) {
      .photo-gallery {
        grid-template-columns: 1fr;
      }
      
      .photo-gallery img {
        height: 250px;
      }
    }

    .letter-signature {
      margin-top: 30px;
      text-align: right;
      font-size: 18px;
      font-style: italic;
      color: #ff3b7a;
    }

    .close-letter {
      position: absolute;
      top: 15px;
      right: 15px;
      background: #ff3b7a;
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      z-index: 1;
    }

    .close-letter:hover {
      background: #ff1f68;
      transform: rotate(90deg);
    }

    @keyframes pop {
      from { transform: scale(.96); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    /* MUSIC CONTROL */
    .music-control {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--yes);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(255, 59, 122, 0.4);
      transition: transform 0.2s ease;
    }

    .music-control:hover {
      transform: scale(1.1);
    }

    .music-control:active {
      transform: scale(0.95);
    }

    /* SCROLLBAR STYLING */
    .letter::-webkit-scrollbar {
      width: 8px;
    }

    .letter::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .letter::-webkit-scrollbar-thumb {
      background: #ff6b9d;
      border-radius: 10px;
    }

    .letter::-webkit-scrollbar-thumb:hover {
      background: #ff3b7a;
    }
  </style>
</head>

<body>
  <div class="floating-hearts" id="floatingHearts"></div>
  <canvas id="confettiCanvas"></canvas>

  <audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_4c8c63d391.mp3" type="audio/mpeg">
  </audio>

  <audio id="letterMusic" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-piano-reflections-643.mp3" type="audio/mpeg">
  </audio>

  <button class="music-control" id="musicToggle" title="Toggle Music">üéµ</button>

  <main class="card">
    <svg class="art" viewBox="0 0 320 240" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="fur" x1="0" x2="1">
          <stop offset="0" stop-color="#f7c7a1"/>
          <stop offset="1" stop-color="#f2a97b"/>
        </linearGradient>
        <linearGradient id="heart" x1="0" x2="1">
          <stop offset="0" stop-color="#ff4d7d"/>
          <stop offset="1" stop-color="#ff1f68"/>
        </linearGradient>
      </defs>
      <path id="animatedHeart" d="M250 50 C250 33 270 25 282 38 C294 25 314 33 314 50 C314 78 282 92 282 106 C282 92 250 78 250 50Z" fill="url(#heart)"/>
      <path d="M90 120 C90 70 140 40 190 60 C240 40 290 70 290 120 C290 180 240 210 190 210 C140 210 90 180 90 120Z" fill="url(#fur)"/>
      <path d="M110 92 L95 55 L140 78 Z" fill="#f2a97b"/>
      <path d="M270 92 L285 55 L240 78 Z" fill="#f2a97b"/>
      <circle cx="160" cy="130" r="8"/>
      <circle cx="220" cy="130" r="8"/>
      <path d="M190 144 C186 144 182 148 182 152 C182 160 190 164 190 170 C190 164 198 160 198 152 C198 148 194 144 190 144Z" fill="#ff7aa2"/>
    </svg>

    <h1>narayani will you be my valentine?</h1>

    <section class="button-zone" id="zone">
      <button id="yesBtn">Yes! üíï</button>
      <button id="noBtn">No</button>
    </section>

    <div class="hint" id="hint">"No" seems a bit shy üòà</div>

    <section class="result" id="result">
      <h2>YAY! üéâüíñ</h2>
      <p class="romantic-message">You just made me the happiest person alive! ‚ú®</p>
      
      <button class="letter-btn" id="openLetterBtn">Open My Letter For You üíå</button>

      <img
        class="fireworks"
        src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbTc3ZGN5Z3BxMWQ3dXRlbzZpMzV5bnlqZGNnYjBmN3AzNWJkYm9rZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/g5R9dok94mrIvplmZd/giphy.gif"
        alt="Celebration"
        onerror="this.style.display='none'"
      />
    </section>
  </main>

  <div class="letter-overlay" id="letterOverlay">
    <div class="letter-container">
      <div class="letter">
        <button class="close-letter" id="closeLetterBtn">√ó</button>
        <div class="letter-header">
          <h2>To My Dearest Baebu üíñ</h2>
          <p class="letter-date">Valentine's Day 2026</p>
        </div>
        <div class="letter-content">
          <p>My sweetu baebuüíó,</p>
          <p>I just wanted to tell you that I've got this massive crush on youuuuuuuuuuuuuuuüëâüèªüëàüèª, and everytime I see you or hear your voice it just makes me the most happiestttt person, Every single day I fall in love with you more and more, and i fall for you harder and harder every sinlge day, you were the single most missing piece in my life and having you by my side idk what to sayyyyyy baebuuuuu ü•π</p>
          <p>I asked to God to send me anything that would make me happy, but God had different plans ig, he not only just gave me anything, he gave me everything (ITS YOUUU)ü•πü•πü•π</p>
          <p>All those late night calls and deep convos and silly jokes(yours) and genuine funny jokes(mine) hehehehheüòõüòõ just kidding its the other way around lolü§ìü§ì i'd do it again and again with you babyyyyy üíó</p>
          <p>I just don't have the words to describe how lucky I am to have you in my life babyyyyyyyüò≠ü•πüíóüíó, I'm just obsessed with you babyyyyy, you are my good luck charm baebuu, being with you 24 hours is not enough, i wanna be with you for 25 hours or moreeeeeüò≠üò≠üò≠üò≠üò≠</p>
          <p>I wanna giiggiii you, kissiii you and and and i miss you 24/7 you knowwwwü•∫ü•∫üò≠</p>
          <p><strong>I LOVE YOU MORE AND MORE AND MOREEEEE BABYYYYYYY AND I AM GOING TO FOREVERRRüíóüíóüíóüíóü•πü•π</strong></p>
          <p><strong>I'M ALWAYS GONNA BE THERE FOR YOU NO MATTER WHAT BAEBUUUUü´∂üèªü´∂üèªü´∂üèªü´∂üèª</strong></p>
          <p class="letter-signature">Forever yours,<br>Your biggest fan ‚ù§Ô∏è</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    const zone = document.getElementById("zone");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const result = document.getElementById("result");
    const hint = document.getElementById("hint");
    const bgMusic = document.getElementById("bgMusic");
    const letterMusic = document.getElementById("letterMusic");
    const musicToggle = document.getElementById("musicToggle");
    const openLetterBtn = document.getElementById("openLetterBtn");
    const letterOverlay = document.getElementById("letterOverlay");
    const closeLetterBtn = document.getElementById("closeLetterBtn");

    let musicPlaying = false;
    let currentMusic = bgMusic;

    function toggleMusic() {
      if (musicPlaying) {
        currentMusic.pause();
        musicToggle.textContent = "üîá";
        musicPlaying = false;
      } else {
        currentMusic.play().catch(e => console.log("Music play failed:", e));
        musicToggle.textContent = "üéµ";
        musicPlaying = true;
      }
    }

    musicToggle.addEventListener("click", toggleMusic);

    document.addEventListener("click", () => {
      if (!musicPlaying) {
        bgMusic.play().catch(e => console.log("Music play failed:", e));
        musicToggle.textContent = "üéµ";
        musicPlaying = true;
      }
    }, { once: true });

    openLetterBtn.addEventListener("click", () => {
      letterOverlay.classList.add("active");
      bgMusic.pause();
      letterMusic.currentTime = 0;
      letterMusic.play().catch(e => console.log("Letter music play failed:", e));
      currentMusic = letterMusic;
      musicPlaying = true;
      musicToggle.textContent = "üéµ";
      setTimeout(() => {
        confettiInstance({
          particleCount: 100,
          spread: 70,
          origin: { y: 0.6 },
          colors: ['#ff3b7a', '#ffd700', '#ff6b9d']
        });
      }, 400);
    });

    closeLetterBtn.addEventListener("click", () => {
      letterOverlay.classList.remove("active");
      letterMusic.pause();
      bgMusic.currentTime = 0;
      bgMusic.play().catch(e => console.log("Background music play failed:", e));
      currentMusic = bgMusic;
      musicPlaying = true;
      musicToggle.textContent = "üéµ";
    });

    letterOverlay.addEventListener("click", (e) => {
      if (e.target === letterOverlay) closeLetterBtn.click();
    });

    function createFloatingHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = ["üíï", "üíñ", "üíó", "üíì", "üíù"][Math.floor(Math.random() * 5)];
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = (Math.random() * 20 + 15) + "px";
      heart.style.animationDuration = (Math.random() * 4 + 6) + "s";
      heart.style.animationDelay = Math.random() * 2 + "s";
      document.getElementById("floatingHearts").appendChild(heart);
      setTimeout(() => heart.remove(), 10000);
    }

    setInterval(createFloatingHeart, 800);
    for (let i = 0; i < 5; i++) setTimeout(createFloatingHeart, i * 300);

    function createSparkle(x, y) {
      const sparkle = document.createElement("div");
      sparkle.className = "sparkle";
      sparkle.style.left = x + "px";
      sparkle.style.top = y + "px";
      sparkle.style.background = ["#ff3b7a", "#ffd700", "#fff", "#ff6b9d"][Math.floor(Math.random() * 4)];
      document.body.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 1500);
    }

    setInterval(() => {
      const card = document.querySelector(".card");
      const rect = card.getBoundingClientRect();
      const x = rect.left + Math.random() * rect.width;
      const y = rect.top + Math.random() * rect.height;
      createSparkle(x, y);
    }, 500);

    const confettiCanvas = document.getElementById("confettiCanvas");
    function resizeConfettiCanvas() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
      confettiCanvas.style.width = "100vw";
      confettiCanvas.style.height = "100vh";
    }
    resizeConfettiCanvas();
    window.addEventListener("resize", resizeConfettiCanvas);

    const confettiInstance = confetti.create(confettiCanvas, { resize: false, useWorker: true });

    function fullScreenConfetti() {
      const end = Date.now() + 2500;
      const colors = ['#ff3b7a', '#ff6b9d', '#ffd700', '#ff1f68', '#ffc0cb'];
      (function frame() {
        confettiInstance({ particleCount: 8, spread: 100, startVelocity: 45, ticks: 200, origin: { x: Math.random(), y: Math.random() * 0.4 }, colors: colors, shapes: ['circle', 'square'], scalar: 1.2 });
        confettiInstance({ particleCount: 3, spread: 80, startVelocity: 35, ticks: 180, origin: { x: Math.random(), y: Math.random() * 0.3 }, colors: ['#ff3b7a', '#ff1f68'], shapes: ['circle'], scalar: 1.8 });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
      setTimeout(() => {
        confettiInstance({ particleCount: 400, spread: 160, startVelocity: 65, ticks: 250, origin: { x: 0.5, y: 0.5 }, colors: colors, scalar: 1.5 });
      }, 400);
    }

    let yesScale = 1;
    function growYes() {
      yesScale = Math.min(2.2, yesScale + 0.1);
      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;
    }

    function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }

    function moveNo(px, py) {
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      let dx = (b.left + b.width / 2) - px;
      let dy = (b.top + b.height / 2) - py;
      let mag = Math.hypot(dx, dy) || 1;
      dx /= mag; dy /= mag;
      let newLeft = (b.left - z.left) + dx * 150;
      let newTop  = (b.top - z.top) + dy * 150;
      newLeft = clamp(newLeft, 0, z.width - b.width);
      newTop  = clamp(newTop, 0, z.height - b.height);
      noBtn.style.left = newLeft + "px";
      noBtn.style.top = newTop + "px";
      noBtn.style.transform = "none";
      growYes();
    }

    zone.addEventListener("pointermove", e => {
      const b = noBtn.getBoundingClientRect();
      const d = Math.hypot((b.left + b.width / 2) - e.clientX, (b.top + b.height / 2) - e.clientY);
      if (d < 140) moveNo(e.clientX, e.clientY);
    });

    yesBtn.addEventListener("click", () => {
      zone.style.display = "none";
      hint.style.display = "none";
      result.style.display = "block";
      resizeConfettiCanvas();
      fullScreenConfetti();
      setTimeout(() => {
        for (let i = 0; i < 30; i++) {
          setTimeout(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            createSparkle(x, y);
          }, i * 50);
        }
      }, 500);
    });
  </script>
</body>
</html>
